<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeleÃ§Ã£o de Grupos e MolÃ©culas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
        }
        select, input[type="text"], textarea, button {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
            box-sizing: border-box;
        }
        textarea {
            height: 150px;
            display: block;
        }
        button {
            margin-top: 10px;
        }
        .acoes-container {
          display: flex;
          gap: 12px;
          align-items: center;
          margin-bottom: 16px;
        }

        .acoes-container button,
        .acoes-container select {
          padding: 10px 16px;
          font-size: 16px;
          border-radius: 6px;
          border: 1px solid #ccc;
          background-color: white;
          cursor: pointer;
        }

        .acoes-container button:hover {
          background-color: #f0f0f0;
        }

        #acoes-container select {
          min-width: 200px;
        }
    </style>
</head>
<body>
    <h1>ðŸ”¬ AnÃ¡lise de Simetria Molecular</h1>

    <div class="container">
        <h2> <label for="grupo">1. Escolha o Grupo de Simetria</label> </h2>
        <select id="grupoSelect">
            <option value="">Selecione um grupo ...</option>
            <optgroup label="CristalogrÃ¡ficos (Hexagonal)">
                <option value="cristalograficos/Hexagonal/C3h">C3h</option>
                <option value="cristalograficos/Hexagonal/C6">C6</option>
                <option value="cristalograficos/Hexagonal/C6h">C6h</option>
                <option value="cristalograficos/Hexagonal/C6v">C6v</option>
                <option value="cristalograficos/Hexagonal/D3h">D3h</option>
                <option value="cristalograficos/Hexagonal/D6">D6</option>
                <option value="cristalograficos/Hexagonal/D6h">D6h</option>
            </optgroup>
            <optgroup label="CristalogrÃ¡ficos (Monoclinico)">
                <option value="cristalograficos/Monoclinico/C2">C2</option>
                <option value="cristalograficos/Monoclinico/C2h">C2h</option>
                <option value="cristalograficos/Monoclinico/Cs">Cs</option>
            </optgroup>
            <optgroup label="CristalogrÃ¡ficos (Ortorrombico)">
                <option value="cristalograficos/Ortorrombico/C2v">C2v</option>
                <option value="cristalograficos/Ortorrombico/D2">D2</option>
                <option value="cristalograficos/Ortorrombico/D2h">D2h</option>
            </optgroup>
            <optgroup label="CristalogrÃ¡ficos (Tetragonal)">
                <option value="cristalograficos/Tetragonal/C4">C4</option>
                <option value="cristalograficos/Tetragonal/C4h">C4h</option>
                <option value="cristalograficos/Tetragonal/C4v">C4v</option>
                <option value="cristalograficos/Tetragonal/D2d">D2d</option>
                <option value="cristalograficos/Tetragonal/D4">D4</option>
                <option value="cristalograficos/Tetragonal/D4h">D4h</option>
                <option value="cristalograficos/Tetragonal/S4">S4</option>
            </optgroup>
            <optgroup label="CristalogrÃ¡ficos (Triclinico)">
                <option value="cristalograficos/Triclinico/C1">C1</option>
                <option value="cristalograficos/Triclinico/Ci">Ci</option>
            </optgroup>
            <optgroup label="CristalogrÃ¡ficos (Trigonal)">
                <option value="cristalograficos/Trigonal/C3">C3</option>
                <option value="cristalograficos/Trigonal/C3v">C3v</option>
                <option value="cristalograficos/Trigonal/D3">D3</option>
                <option value="cristalograficos/Trigonal/D3d">D3d</option>
                <option value="cristalograficos/Trigonal/S6">S6</option>
            </optgroup>
            <optgroup label="Moleculares">
                <option value="moleculares/C3v">C3v</option>
                <option value="moleculares/C4h">C4h</option>
                <option value="moleculares/C5">C5</option>
                <option value="moleculares/C5h">C5h</option>
                <option value="moleculares/C5v">C5v</option>
                <option value="moleculares/Cinfv">Câˆžv</option>
                <option value="moleculares/Dinfh">Dâˆžh</option>
                <option value="moleculares/D3d">D3d</option>
                <option value="moleculares/D5">D5</option>
                <option value="moleculares/D5h">D5h</option>
                <option value="moleculares/I">I</option>
                <option value="moleculares/Ih">Ih</option>
                <option value="moleculares/S8">S8</option>
                <option value="outro">Outro (especifique)</option>
            </optgroup>
        </select>
        <textarea id="grupoOutput" placeholder="Json do grupo ..."></textarea>
    </div>

    <div class="container">
        <h2><label for="molecula">2. Escolha a MolÃ©cula</label></h2>
        <select id="moleculaSelect">
            <option value="">Selecione uma molÃ©cula ...</option>
            <option value="benzeno">Benzeno (C6H6)</option>
            <option value="etano_eclipsado">Etano Eclipsado (C2H6)</option>
            <option value="etano_estrelado">Etano Estrelado (C2H6)</option>
            <option value="metano">Metano (CH4)</option>
            <option value="hexafluoreto_enxofre">Hexafluoreto de Enxofre (SF6)</option>
            <option value="outro">Outra (especifique)</option>
        </select>
        <textarea id="moleculaOutput" placeholder="Coordenadas xyz ..." readonly ></textarea>
    </div>

        <h2><label for="acoes">2. AÃ§Ãµes</label></h2>
        <div class="acoes-container">
          <button>ðŸ“¦ Analisar Simetria (ZIP)</button>
          <button>ðŸ”µ Renderizar OperaÃ§Ã£o</button>
          <select id="operacaoSelect">
            <option value="">Escolha a operaÃ§Ã£o...</option>
          </select>
        </div>


    <div class="container">
        <h2> Resultado: </h2>
        <textarea id="resultadoOutput" readonly ></textarea>
    </div>

    <script>
        const baseUrlGrupos = 'https://naraavila-simetria-molecular.hf.space/api/grupo/';
        const baseUrlMoleculas = 'https://naraavila-simetria-molecular.hf.space/api/molecula/';

        // const baseUrlGrupos = 'http://localhost:7860/api/grupo/';
        // const baseUrlMoleculas = 'http://localhost:7860/api/molecula/';


        grupoSelect.addEventListener('change', () => {


            const grupoSelecionado = grupoSelect.value;
            if (grupoSelecionado === 'outro') {
                grupoOutput.readOnly = false;
                grupoOutput.value = "";
            } else {
                if (grupoSelecionado) {
                    fetch(baseUrlGrupos + grupoSelecionado)
                        .then(response => response.ok ? response.json() : Promise.reject('Erro ao carregar o JSON'))
                        .then(data => grupoOutput.value = JSON.stringify(data, null, 2))
                        .catch(err => grupoOutput.value = err);
                    grupoOutput.readOnly = true;   
                } else {
                    grupoOutput.value = '';
                }
            }
        });


        const moleculaOutput = document.getElementById('moleculaOutput');

        moleculaSelect.addEventListener('change', () => {
            const moleculaSelecionada = moleculaSelect.value;
            if (moleculaSelecionada === 'outro') {
                moleculaOutput.readOnly = false;
                moleculaOutput.value = "";
            } else {
                if (moleculaSelecionada) {
                    fetch(baseUrlMoleculas + moleculaSelecionada)
                        .then(response => response.ok ? response.text() : Promise.reject('Erro ao carregar o XYZ'))
                        .then(data => moleculaOutput.value = data)
                        .catch(err => moleculaOutput.value = err);
                    moleculaOutput.readOnly = true;
                } else {
                    moleculaOutput.value = '';
                }
            }
        });


    </script>
</body>
</html>