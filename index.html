<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seleção de Grupos e Moléculas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
        }
        select, input[type="text"], textarea, button {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
            box-sizing: border-box;
        }
        textarea {
            height: 150px;
            display: block;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Seleção de Grupos e Moléculas</h1>

    <div class="container">
        <label for="grupo">Grupos:</label>
        <select id="grupo">
            <option value="">Selecione um grupo</option>
            <optgroup label="Cristalográficos (Hexagonal)">
                <option value="Hexagonal/C3">C3</option>
                <option value="Hexagonal/C3h">C3h</option>
                <option value="Hexagonal/C3v">C3v</option>
                <option value="Hexagonal/D3">D3</option>
                <option value="Hexagonal/D3h">D3h</option>
                <option value="Hexagonal/D3d">D3d</option>
            </optgroup>
            <optgroup label="Moleculares">
                <option value="Moleculares/Cinfv">C∞v</option>
                <option value="Moleculares/Dinfh">D∞h</option>
                <option value="Moleculares/I">I (Icosaédrico)</option>
                <option value="Moleculares/Ih">Ih (Icosaédrico com inversão)</option>
                <option value="Moleculares/O">O (Octaédrico)</option>
                <option value="Moleculares/Oh">Oh (Octaédrico com inversão)</option>
                <option value="Moleculares/Td">Td (Tetraédrico)</option>
            </optgroup>
        </select>
        <textarea id="grupoOutput" placeholder="Dados do grupo aparecerão aqui"></textarea>
    </div>

    <div class="container">
        <label for="molecula">Moléculas:</label>
        <select id="molecula">
            <option value="">Selecione uma molécula</option>
            <option value="benzeno">Benzeno (C6H6)</option>
            <option value="etano_eclipsado">Etano Eclipsado (C2H6)</option>
            <option value="etano_estrelado">Etano Estrelado (C2H6)</option>
            <option value="metano">Metano (CH4)</option>
            <option value="hexafluoreto_enxofre">Hexafluoreto de Enxofre (SF6)</option>
            <option value="outro">Outro (especifique)</option>
        </select>
        <input type="text" id="outroMolecula" placeholder="Descreva manualmente" style="display:none;">
        <textarea id="moleculaOutput" placeholder="Dados da molécula aparecerão aqui"></textarea>
    </div>

    <script>
        const baseUrlGrupos = 'https://naraavila-simetria-molecular.hf.space/file/static/grupos/';
        const baseUrlMoleculas = 'https://naraavila-simetria-molecular.hf.space/file/static/moleculas/';

        grupoSelect.addEventListener('change', () => {
            const grupoSelecionado = grupoSelect.value;
            if (grupoSelecionado) {
                fetch(baseUrlGrupos + grupoSelecionado + '.json')
                    .then(response => response.ok ? response.json() : Promise.reject('Erro ao carregar o JSON'))
                    .then(data => grupoOutput.value = JSON.stringify(data, null, 2))
                    .catch(err => grupoOutput.value = err);
            } else {
                grupoOutput.value = '';
            }
        });

        // function fetchGrupo() {
        //     const grupoSelecionado = document.getElementById('grupo').value;
        //     const output = document.getElementById('grupoOutput');
        //     if (grupoSelecionado) {
        //         fetch(baseUrlGrupos + grupoSelecionado + '.json')
        //             .then(response => response.ok ? response.json() : Promise.reject('Erro ao carregar o JSON'))
        //             .then(data => output.value = JSON.stringify(data, null, 2))
        //             .catch(err => output.value = err);
        //     } else {
        //         output.value = '';
        //     }
        // }

        // function fetchMolecula() {
        //     const moleculaSelecionada = document.getElementById('molecula').value;
        //     const outroMoleculaInput = document.getElementById('outroMolecula');
        //     const moleculaOutput = document.getElementById('moleculaOutput');

        //     if (moleculaSelecionada === 'outro') {
        //         outroMoleculaInput.style.display = 'block';
        //         moleculaOutput.value = outroMoleculaInput.value;
        //     } else {
        //         outroMoleculaInput.style.display = 'none';
        //         outroMoleculaInput.value = '';

        //         if (moleculaSelecionada) {
        //             fetch(baseUrlMoleculas + moleculaSelecionada + '.json')
        //                 .then(response => response.ok ? response.json() : Promise.reject('Erro ao carregar o JSON'))
        //                 .then(data => moleculaOutput.value = JSON.stringify(data, null, 2))
        //                 .catch(err => moleculaOutput.value = err);
        //         } else {
        //             moleculaOutput.value = '';
        //         }
        //     }

        const moleculaSelect = document.getElementById('molecula');
        const outroMoleculaInput = document.getElementById('outroMolecula');
        const moleculaOutput = document.getElementById('moleculaOutput');

        moleculaSelect.addEventListener('change', () => {
            const moleculaSelecionada = moleculaSelect.value;

            if (moleculaSelecionada === 'outro') {
                outroMoleculaInput.style.display = 'block';
                moleculaOutput.value = outroMoleculaInput.value;
            } else {
                outroMoleculaInput.style.display = 'none';
                outroMoleculaInput.value = '';

                if (moleculaSelecionada) {
                    fetch(baseUrlMoleculas + moleculaSelecionada + '.json')
                        .then(response => response.ok ? response.json() : Promise.reject('Erro ao carregar o JSON'))
                        .then(data => moleculaOutput.value = JSON.stringify(data, null, 2))
                        .catch(err => moleculaOutput.value = err);
                } else {
                    moleculaOutput.value = '';
                }
            }
        });
        
    </script>
</body>
</html>