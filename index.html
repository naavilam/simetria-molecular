<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seleção de Grupos e Moléculas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
        }
        select, input[type="text"], textarea, button {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
            box-sizing: border-box;
        }
        textarea {
            height: 150px;
            display: block;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Seleção de Grupos e Moléculas</h1>

    <div class="container">
        <label for="grupo">Grupos:</label>
        <select id="grupoSelect">
            <option value="">Selecione um grupo</option>
            <optgroup label="Cristalográficos (Hexagonal)">
                <option value="cristalograficos/Hexagonal/C3h">C3h</option>
                <option value="cristalograficos/Hexagonal/C6">C6</option>
                <option value="cristalograficos/Hexagonal/C6h">C6h</option>
                <option value="cristalograficos/Hexagonal/C6v">C6v</option>
                <option value="cristalograficos/Hexagonal/D3h">D3h</option>
                <option value="cristalograficos/Hexagonal/D6">D6</option>
                <option value="cristalograficos/Hexagonal/D6h">D6h</option>
            </optgroup>
            <optgroup label="Cristalográficos (Monoclinico)">
                <option value="cristalograficos/Monoclinico/C2">C2</option>
                <option value="cristalograficos/Monoclinico/C2h">C2h</option>
                <option value="cristalograficos/Monoclinico/Cs">Cs</option>
            </optgroup>
            <optgroup label="Cristalográficos (Ortorrombico)">
                <option value="cristalograficos/Ortorrombico/C2v">C2v</option>
                <option value="cristalograficos/Ortorrombico/D2">D2</option>
                <option value="cristalograficos/Ortorrombico/D2h">D2h</option>
            </optgroup>
            <optgroup label="Cristalográficos (Tetragonal)">
                <option value="cristalograficos/Tetragonal/C4">C4</option>
                <option value="cristalograficos/Tetragonal/C4h">C4h</option>
                <option value="cristalograficos/Tetragonal/C4v">C4v</option>
                <option value="cristalograficos/Tetragonal/D2d">D2d</option>
                <option value="cristalograficos/Tetragonal/D4">D4</option>
                <option value="cristalograficos/Tetragonal/D4h">D4h</option>
                <option value="cristalograficos/Tetragonal/S4">S4</option>
            </optgroup>
            <optgroup label="Cristalográficos (Triclinico)">
                <option value="cristalograficos/Triclinico/C1">C1</option>
                <option value="cristalograficos/Triclinico/Ci">Ci</option>
            </optgroup>
            <optgroup label="Cristalográficos (Trigonal)">
                <option value="cristalograficos/Trigonal/C3">C3</option>
                <option value="cristalograficos/Trigonal/C3v">C3v</option>
                <option value="cristalograficos/Trigonal/D3">D3</option>
                <option value="cristalograficos/Trigonal/D3d">D3d</option>
                <option value="cristalograficos/Trigonal/S6">S6</option>
            </optgroup>
            <optgroup label="Moleculares">
                <option value="moleculares/C3v">C3v</option>
                <option value="moleculares/C4h">C4h</option>
                <option value="moleculares/C5">C5</option>
                <option value="moleculares/C5h">C5h</option>
                <option value="moleculares/C5v">C5v</option>
                <option value="moleculares/Cinfv">C∞v</option>
                <option value="moleculares/Dinfh">D∞h</option>
                <option value="moleculares/D3d">D3d</option>
                <option value="moleculares/D5">D5</option>
                <option value="moleculares/D5h">D5h</option>
                <option value="moleculares/I">I</option>
                <option value="moleculares/Ih">Ih</option>
                <option value="moleculares/S8">S8</option>
                <option value="outro">Outro (especifique)</option>
            </optgroup>
        </select>
        <textarea id="grupoOutput" placeholder="Dados do grupo aparecerão aqui"></textarea>
    </div>

    <div class="container">
        <label for="molecula">Moléculas:</label>
        <select id="moleculaSelect">
            <option value="">Selecione uma molécula</option>
            <option value="benzeno">Benzeno (C6H6)</option>
            <option value="etano_eclipsado">Etano Eclipsado (C2H6)</option>
            <option value="etano_estrelado">Etano Estrelado (C2H6)</option>
            <option value="metano">Metano (CH4)</option>
            <option value="hexafluoreto_enxofre">Hexafluoreto de Enxofre (SF6)</option>
            <option value="outro">Outra (especifique)</option>
        </select>
        <textarea id="moleculaOutput" placeholder="Dados da molécula aparecerão aqui" readonly ></textarea>
    </div>

    <script>
        const baseUrlGrupos = 'https://naraavila-simetria-molecular.hf.space/api/grupo/';
        const baseUrlMoleculas = 'https://naraavila-simetria-molecular.hf.space/api/molecula/';

        // const baseUrlGrupos = 'http://localhost:7860/api/grupo/';
        // const baseUrlMoleculas = 'http://localhost:7860/api/molecula/';


        grupoSelect.addEventListener('change', () => {


            const grupoSelecionado = grupoSelect.value;
            if (grupoSelecionado === 'outro') {
                grupoOutput.readOnly = false;
                grupoOutput.value = "";
            } else {
                if (grupoSelecionado) {
                    fetch(baseUrlGrupos + grupoSelecionado)
                        .then(response => response.ok ? response.json() : Promise.reject('Erro ao carregar o JSON'))
                        .then(data => grupoOutput.value = JSON.stringify(data, null, 2))
                        .catch(err => grupoOutput.value = err);
                    grupoOutput.readOnly = true;   
                } else {
                    grupoOutput.value = '';
                }
            }
        });


        const moleculaOutput = document.getElementById('moleculaOutput');

        moleculaSelect.addEventListener('change', () => {
            const moleculaSelecionada = moleculaSelect.value;
            if (moleculaSelecionada === 'outro') {
                moleculaOutput.readOnly = false;
                moleculaOutput.value = "";
            } else {
                if (moleculaSelecionada) {
                    fetch(baseUrlMoleculas + moleculaSelecionada)
                        .then(response => response.ok ? response.text() : Promise.reject('Erro ao carregar o XYZ'))
                        .then(data => moleculaOutput.value = data)
                        .catch(err => moleculaOutput.value = err);
                    moleculaOutput.readOnly = true;
                } else {
                    moleculaOutput.value = '';
                }
            }
        });


    </script>
</body>
</html>